# 头部导航栏实现方案（按用户要求）

## 一、标题显示方案

### 实现要求
- 采取默认路由映射
- 动态路由不维护

### 实现细节
- 只使用精确匹配，不处理动态路由前缀匹配
- 保持现有的路由映射表结构
- 移除动态路由匹配逻辑

## 二、返回按钮实现方案

### 实现要求
- 路径层级大于2级时，调用`router.back()`处理正常返回
- 特定4个路由时，跳转到"/app/commenter/hall/page.tsx"页面
- 其他情况调用`router.back()`

### 实现细节
1. **路径层级判断**：通过`actualPath.split('/').filter(Boolean).length`获取路径层级
2. **特定路由判断**：检查当前路径是否在特定路由列表中
3. **跳转逻辑**：
   - 特定路由：跳转到`/app/commenter/hall`
   - 层级>2：调用`router.back()`
   - 其他：调用`router.back()`

### 特定路由列表
```typescript
const specialBackRoutes = [
  '/accountrental/account-rental-market',
  '/accountrental/account-rental-publish',
  '/accountrental/my-account-rental',
  '/accountrental/account-rental-requests'
];
```

## 三、代码修改点

### 1. 修改`getCurrentTitle`函数
- 移除动态路由匹配逻辑
- 只使用精确匹配

### 2. 修改`handleBack`函数
- 增加路径层级判断
- 实现特定路由跳转逻辑
- 优化返回逻辑

### 3. 保持`shouldShowBackButton`函数不变

## 四、预期效果

1. **标题显示**：
   - 只有精确匹配的路由才显示自定义标题
   - 其他路由显示默认标题"账号租赁"

2. **返回按钮**：
   - 特定4个路由：跳转到评论大厅
   - 路径层级>2：返回上一页
   - 其他情况：返回上一页

3. **整体体验**：
   - 符合用户要求的返回逻辑
   - 代码简洁易维护
   - 安全性良好，不暴露额外信息

## 五、实施步骤

1. 修改`getCurrentTitle`函数，移除动态路由匹配
2. 修改`handleBack`函数，实现层级判断和特定路由跳转
3. 测试不同路由场景下的表现
4. 确保加密路由兼容

## 六、文件修改

只需要修改一个文件：
- `src/app/accountrental/components/ClientHeader.tsx`