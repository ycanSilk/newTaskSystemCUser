# 修改提现页面代码

## 1. 更新导入

* 添加`useUserStore`从`@/store/userStore`导入

* 保留必要的图标和钩子导入

## 2. 删除类型定义

* 删除所有内部接口定义：`ApiBankCard`、`ApiResponse`、`ApiBalanceResponse`、`BankCard`、`AlipayAccount`

## 3. 更新状态管理

* 添加支付宝手动输入相关状态：`alipayAccount`、`alipayName`

* 保留必要的状态：`amount`、`loading`、`error`、`showPasswordModal`、`paymentPassword`、`passwordError`

* 删除与API请求相关的状态：`selectedBankId`、`selectedAlipayId`、`bankCards`、`alipayAccounts`、`savedUserInfo`、`username`

## 4. 删除API调用代码

* 删除所有`useEffect`钩子中调用后端API的代码

* 删除`fetchPaymentMethods`和`getUserInfo`函数

## 5. 注释提现方式选择代码

* 注释掉支付宝和银行卡选择的UI部分（第525-570行）

## 6. 添加支付宝手动输入区域

* 在提现方式选择区域后添加新的表单字段：

  * 支付宝账户输入框

  * 支付宝姓名输入框

## 7. 更新余额显示

* 使用`useUserStore`获取用户余额并显示

## 8. 更新表单验证

* 添加支付宝账户的验证

* 验证支付密码为6位数字

## 9. 修改确认提现逻辑

* 点击"确认提现"按钮显示支付密码输入框

* 验证支付密码为6位数字

* 调用`/api/paymentWallet/postWithdrawal` API

* 显示API响应结果

* 成功后重新加载页面

## 10. 删除多余函数

* 删除与API请求相关的函数：`getSelectedBankCard`、`getSelectedAlipayAccount`、`formatBankCardNumber`

## 11. 保留UI布局和样式

* 确保所有修改都保留原有的UI布局和样式设计

## 12. 严格遵循API\_REQUEST\_STANDARD.md

* 使用正确的API调用方式

* 遵循错误处理规范

* 保持代码结构清晰

